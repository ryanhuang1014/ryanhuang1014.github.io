{{/* Hugo Blox: Nicole Paul Style - Dark Mode Compatible */}}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.4/css/academicons.min.css">

{{ $block := . }}
{{ $params := $block.Params }}
{{ $author := $params.content.username | default "me" }}
{{ $person_page_path := (printf "/authors/%s" $author) }}
{{ $person_page := site.GetPage $person_page_path }}
{{ $person := $person_page.Params }}
{{ $avatar := ($person_page.Resources.ByType "image").GetMatch "*avatar*" }}

<div style="max-width: 1140px; margin: 0 auto; padding: 0 1.5rem;">

    <div style="display: flex; flex-wrap: wrap; gap: 4rem; margin-top: 3rem;">

        <div style="flex: 0 0 280px; max-width: 100%; text-align: center;">
            <div id="profile">
                {{ if $avatar }}
                {{ $avatar_image := $avatar.Fill "400x400 Center" }}
                <img src="{{ $avatar_image.RelPermalink }}" alt="{{ $person_page.Title }}"
                    style="display: block; margin: 0 auto 1.5rem auto; border-radius: 50%; width: 200px; height: 200px; object-fit: cover; border: 1px solid #eee; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                {{ end }}

                <div class="portrait-title">
                    <h2 class="text-gray-900 dark:text-gray-100"
                        style="font-size: 1.75rem; font-weight: 700; margin-bottom: 0.5rem;">{{ $person_page.Title }}
                    </h2>

                    {{ with $person.role }}
                    <h3 class="text-gray-600 dark:text-gray-300"
                        style="font-size: 1rem; margin-top: 0; margin-bottom: 0.5rem;">
                        {{ . | markdownify | emojify }}
                    </h3>
                    {{ end }}

                    {{ range $person.organizations }}
                    <h3 class="text-gray-600 dark:text-gray-300" style="font-size: 1rem; margin-top: 0;">{{ .name }}
                    </h3>
                    {{ end }}
                </div>

                {{ if $person.social }}
                <ul
                    style="display: flex; justify-content: center; gap: 1rem; list-style: none; padding: 0; margin-top: 1.5rem; font-size: 1.4rem;">
                    {{ range $person.social }}
                    {{ $pack := .icon_pack | default "fas" }}
                    {{ $prefix := "fa" }}
                    {{ if eq $pack "ai" }}
                    {{ $prefix = "ai" }}
                    {{ end }}

                    <li>
                        <a href="{{ .link }}" target="_blank" rel="noopener" aria-label="{{ .icon }}"
                            class="text-gray-900 dark:text-gray-100 hover:text-primary-500 transition-colors duration-300">
                            <i class="{{ $pack }} {{ $prefix }}-{{ .icon }}"></i>
                        </a>
                    </li>
                    {{ end }}
                </ul>
                {{ end }}

                <div style="margin-top: 1.5rem;">
                    <a href="uploads/resume.pdf" target="_blank"
                        style="display: inline-block; background-color: #2962ff; color: white; padding: 0.6rem 1.5rem; border-radius: 50px; text-decoration: none; font-weight: 600; font-size: 0.95rem; box-shadow: 0 2px 4px rgba(41, 98, 255, 0.3);">
                        <i class="fas fa-download" style="margin-right: 5px;"></i> Download CV
                    </a>
                </div>

            </div>
        </div>

        <div style="flex: 1; min-width: 320px;">

            <div class="article-style text-gray-700 dark:text-gray-300"
                style="font-size: 1.1rem; line-height: 1.7; margin-bottom: 3rem;">
                {{ $person_page.Content }}
            </div>

            <div style="display: flex; flex-wrap: wrap; gap: 3rem;">

                <div style="flex: 1; min-width: 280px;">
                    <h3 class="text-gray-900 dark:text-gray-100"
                        style="font-size: 1.4rem; margin-top: 0; margin-bottom: 1.2rem; font-weight: 600;">Experience
                    </h3>
                    <div>
                        {{ range $person.experience }}
                        <div style="display: flex; margin-bottom: 1.5rem;">
                            <div style="margin-right: 1rem; padding-top: 4px;">
                                <i class="fas fa-briefcase fa-lg" style="color: #2962ff;"></i>
                            </div>
                            <div>
                                <div class="text-gray-900 dark:text-gray-100"
                                    style="font-weight: 700; font-size: 1.05rem;">
                                    {{ .company }}
                                </div>
                                <div class="text-gray-600 dark:text-gray-400"
                                    style="font-size: 0.95rem; margin-top: 2px;">
                                    {{ .title }}{{ with .year }}, {{ . }}{{ end }}
                                </div>
                            </div>
                        </div>
                        {{ end }}
                    </div>
                </div>

                <div style="flex: 1; min-width: 280px;">
                    <h3 class="text-gray-900 dark:text-gray-100"
                        style="font-size: 1.4rem; margin-top: 0; margin-bottom: 1.2rem; font-weight: 600;">Education
                    </h3>
                    <div>
                        {{ range $person.education }}
                        <div style="display: flex; margin-bottom: 1.5rem;">
                            <div style="margin-right: 1rem; padding-top: 4px;">
                                <i class="fas fa-graduation-cap fa-lg" style="color: #2962ff;"></i>
                            </div>
                            <div>
                                <div class="text-gray-900 dark:text-gray-100"
                                    style="font-weight: 700; font-size: 1.05rem;">
                                    {{ .degree }}{{ with .year }}, {{ . }}{{ end }}
                                </div>
                                <div class="text-gray-600 dark:text-gray-400"
                                    style="font-size: 0.95rem; margin-top: 2px;">
                                    {{ .institution }}
                                </div>
                            </div>
                        </div>
                        {{ end }}
                    </div>
                </div>

            </div>
        </div>

    </div>
</div>